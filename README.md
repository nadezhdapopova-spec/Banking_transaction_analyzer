## FinanceAnalytics API

**FinanceAnalytics API** ‚Äî backend-–º–æ–¥—É–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ 
–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON-–æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.

–ü—Ä–æ–µ–∫—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ Excel-—Ñ–∞–π–ª–∞, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–∞—Å—Ö–æ–¥—ã –∏ –¥–æ—Ö–æ–¥—ã, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–µ—à–±—ç–∫, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç 
–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –ø–æ–ª—É—á–∞–µ—Ç –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π API –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 
—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON-–æ—Ç–≤–µ—Ç—ã.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ (–¥–µ–Ω—å / –Ω–µ–¥–µ–ª—è / –º–µ—Å—è—Ü / –≥–æ–¥)

- –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–π —Å—É–º–º—ã —Ä–∞—Å—Ö–æ–¥–æ–≤

- –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–π —Å—É–º–º—ã –¥–æ—Ö–æ–¥–æ–≤

- –¢–æ–ø-5 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ —Å—É–º–º–µ

- –¢–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤

- –ê–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

- –û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ:

    - ¬´–ü–µ—Ä–µ–≤–æ–¥—ã¬ª
    
    - ¬´–ù–∞–ª–∏—á–Ω—ã–µ¬ª

- –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞

#### –†–∞–±–æ—Ç–∞ —Å –∫–µ—à–±—ç–∫–æ–º

- –†–∞—Å—á–µ—Ç —Å–∞–º—ã—Ö –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫–µ—à–±—ç–∫–∞ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü

- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

- –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ

#### –ü–æ–∏—Å–∫ –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º

- –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

- –ü–æ–∏—Å–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –ª–∏—Ü–∞–º (–ø–æ —à–∞–±–ª–æ–Ω—É –§–∞–º–∏–ª–∏—è –ò.)

- –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ JSON

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API

- –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API —Å–µ—Ä–≤–∏—Å–∞:

    - Twelve Data

- –ü–æ–ª—É—á–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:

    - –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –∫ —Ä—É–±–ª—é
    
    - –°—Ç–æ–∏–º–æ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∞–∫—Ü–∏–π (S&P500)

- API-–∫–ª—é—á –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```
API_KEY_twelvedata
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏.

_1. **–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏**_

read_xlsx.py

- –ß—Ç–µ–Ω–∏–µ Excel-—Ñ–∞–π–ª–∞

- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –≤ datetime

- –í–æ–∑–≤—Ä–∞—Ç pandas DataFrame

_2. **Views** (—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –¥–ª—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü)_

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–ì–ª–∞–≤–Ω–∞—è¬ª**

–§—É–Ω–∫—Ü–∏—è:

get_information_home_page()

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
```
{
  "greeting": "...",
  "cards": [...],
  "top_transactions": [...],
  "currency_rates": [...],
  "stock_prices": [...]
}
```

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–°–æ–±—ã—Ç–∏—è¬ª**

–§—É–Ω–∫—Ü–∏—è:

get_events_information()

–§–æ—Ä–º–∏—Ä—É–µ—Ç:

- —Ä–∞—Å—Ö–æ–¥—ã

- –¥–æ—Ö–æ–¥—ã

- —Ç–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π

- –ø–µ—Ä–µ–≤–æ–¥—ã –∏ –Ω–∞–ª–∏—á–Ω—ã–µ

- –≤–∞–ª—é—Ç—ã –∏ –∞–∫—Ü–∏–∏

**_3. Services_**

get_transactions_list

get_profitable_cashback_categories

make_simple_search

search_for_transfers_to_individuals

–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

**_4. Reports_**

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä @report

–ü–æ–∑–≤–æ–ª—è–µ—Ç:

- –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

- —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª

- —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏

–ü—Ä–∏–º–µ—Ä:
```
@report(filename="reports.txt")
def get_spending_by_category(...)
```

_**5. Logging**_

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –ª–æ–≥–≥–µ—Ä:

setup_logger()

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –º–æ–¥—É–ª—è

- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª

- –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞

- –æ—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

- –≥–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:

/logs

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

    FinanceAnalytics/
    ‚îÇ
    ‚îú‚îÄ‚îÄ data/
    ‚îÇ   ‚îú‚îÄ‚îÄ operations.xlsx
    ‚îÇ   ‚îú‚îÄ‚îÄ reports.txt
    ‚îÇ
    ‚îú‚îÄ‚îÄ logs/
    ‚îÇ
    ‚îú‚îÄ‚îÄ src/
        ‚îú‚îÄ‚îÄ external_api.py
        ‚îú‚îÄ‚îÄ logging_config.py
    ‚îÇ   ‚îú‚îÄ‚îÄ services.py
    ‚îÇ   ‚îú‚îÄ‚îÄ reports.py
        ‚îú‚îÄ‚îÄ reports_decorator.py
    ‚îÇ   ‚îú‚îÄ‚îÄ views.py
    ‚îÇ   ‚îú‚îÄ‚îÄ read_xlsx.py
        ‚îú‚îÄ‚îÄ utils.py
    ‚îÇ   ‚îî‚îÄ‚îÄ views.py
    ‚îÇ
    ‚îú‚îÄ‚îÄ tests/
    ‚îÇ
    ‚îú‚îÄ‚îÄ config.py
    ‚îî‚îÄ‚îÄ main.py

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```
git clone https://github.com/nadezhdapopova-spec/Banking_transaction_analyzer
cd FinanceAnalytics
poetry install
poetry shell
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª user_settings.json:
```
{
  "user_currencies": ["USD", "EUR"],
  "user_stocks": ["AAPL", "MSFT"]
}
```
–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```
API_KEY_twelvedata=your_api_key_here
```

#### –ó–∞–ø—É—Å–∫
```
python main.py
```

#### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–æ–¥–∏—Ç JSON:

- –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

- —Å–æ–±—ã—Ç–∏—è

- –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–µ—à–±—ç–∫–∞

- —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞

- –ø–µ—Ä–µ–≤–æ–¥—ã —Ñ–∏–∑–ª–∏—Ü–∞–º

- –æ—Ç—á–µ—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

Python 3.12

pandas

requests

openpyxl

python-dateutil

logging

json

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
–î–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã, –ø–æ–∫—Ä—ã—Ç–∏–µ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 100%

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
pytest tests/ -v
```

### –ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤ (views / services / reports)

- –†–∞–±–æ—Ç–∞ —Å DataFrame

- JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API

- –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä

- –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –õ–∏—Ü–µ–Ω–∑–∏—è:

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ [–ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT](https://github.com/nadezhdapopova-spec/client-banking-widget/blob/main/LICENSE)

### –ê–≤—Ç–æ—Ä

–ù–∞–¥–µ–∂–¥–∞ –ü–æ–ø–æ–≤–∞

Python Developer

üìß nadezhdapopova13@yandex.ru

üîó GitHub: nadezhdapopova-spec
